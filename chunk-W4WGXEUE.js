import{o as B,p as N}from"./chunk-7MMK6W5F.js";import{f as V,s as R,v as q}from"./chunk-IUO5HKZC.js";import{Ab as m,Eb as o,Fb as a,Gb as s,Gc as D,Kb as T,Mb as _,Mc as U,Nb as g,Nc as W,Wb as r,Xb as c,Yb as $,ab as I,cc as k,da as M,db as p,dc as z,eb as E,ec as u,hc as P,ic as L,j as x,ja as O,jc as j,k as v,na as b,qa as w,sb as l,ub as d,wb as F,xa as y,ya as S}from"./chunk-7JSXSHIC.js";var f=class e{modalOpen$=new v(!1);data$=new x;type$=new x;constructor(){}openModal(n,i){this.modalOpen$.next(!0),i?this.data$.next(i):this.data$.next(null),this.type$.next(n)}closeModal(){this.modalOpen$.next(!1),this.data$.next(null)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};var h=class e{transform(n){let i=Math.floor(n/250);return i<1?1:i>10?10:i}static \u0275fac=function(i){return new(i||e)};static \u0275pipe=w({name:"rating",type:e,pure:!0,standalone:!0})};var G=(e,n)=>({viewed:e,findPage:n}),J=e=>({viewed:e});function K(e,n){if(e&1&&r(0),e&2){let i=g();$("$",i.pet.price,"")}}function Q(e,n){e&1&&r(0,"FREE")}function X(e,n){e&1&&s(0,"svg-icon-sprite",6),e&2&&d("src","images/sprite.svg#icon-trash")("width","18px")}function Y(e,n){e&1&&s(0,"svg-icon-sprite",6),e&2&&d("src","images/sprite.svg#icon-heart")("width","18px")}function Z(e,n){if(e&1){let i=T();o(0,"button",16),_("click",function(){y(i);let C=g();return S(C.addToFav(C.pet._id))}),l(1,X,1,2,"svg-icon-sprite",6)(2,Y,1,2,"svg-icon-sprite",6),a()}if(e&2){let i=g();p(),m(i.isFavorite?1:2)}}var H=class e{constructor(n){this.store=n}pet;place;favorites$;isLoggedIn=!1;isFavorite=!1;modalService=O(f);ngOnInit(){this.favorites$.subscribe(n=>{this.isFavorite=n.includes(this.pet._id)})}openModal(){let n={id:this.pet._id,isFavorite$:this.favorites$};this.isLoggedIn?this.modalService.openModal("petModal",n):this.modalService.openModal("attention")}addToFav(n){this.isLoggedIn?this.isFavorite?this.store.dispatch(q({id:n})):this.store.dispatch(R({id:n})):this.modalService.openModal("attention")}static \u0275fac=function(i){return new(i||e)(E(V))};static \u0275cmp=b({type:e,selectors:[["app-pet-card"]],inputs:{pet:"pet",place:"place",favorites$:"favorites$",isLoggedIn:"isLoggedIn"},standalone:!0,features:[k],decls:47,vars:31,consts:[[1,"card",3,"ngClass"],["alt","pet photo",1,"img",3,"ngClass","src"],[1,"titleWrapper"],[1,"cardTitle"],[1,"starWrapper"],[1,"star"],[3,"src","width"],[1,"count"],[1,"dataList",3,"ngClass"],[1,"bioTitle"],[1,"bio"],[1,"comment"],[1,"price"],[1,"bottom"],["type","button",1,"moreInfo",3,"click"],["type","button",1,"heart"],["type","button",1,"heart",3,"click"]],template:function(i,t){i&1&&(o(0,"li",0),s(1,"img",1),o(2,"div",2)(3,"h3",3),r(4),a(),o(5,"div",4)(6,"div",5),s(7,"svg-icon-sprite",6),a(),o(8,"p",7),r(9),P(10,"rating"),a()()(),o(11,"ul",8)(12,"li")(13,"p",9),r(14,"Name"),a(),o(15,"p",10),r(16),a()(),o(17,"li")(18,"p",9),r(19,"Birthday"),a(),o(20,"p",10),r(21),P(22,"date"),a()(),o(23,"li")(24,"p",9),r(25,"Sex"),a(),o(26,"p",10),r(27),a()(),o(28,"li")(29,"p",9),r(30,"Species"),a(),o(31,"p",10),r(32),a()(),o(33,"li")(34,"p",9),r(35,"Category"),a(),o(36,"p",10),r(37),a()()(),o(38,"p",11),r(39),a(),o(40,"p",12),l(41,K,1,1)(42,Q,1,0),a(),o(43,"div",13)(44,"button",14),_("click",function(){return t.openModal()}),r(45," Learn more "),a(),l(46,Z,3,1,"button",15),a()()),i&2&&(d("ngClass",u(23,G,t.place==="viewed"||t.place==="favorites",t.place==="findPage")),p(),d("ngClass",u(26,G,t.place==="viewed"||t.place==="favorites",t.place==="findPage"))("src",t.pet.imgURL,I),p(3),c(t.pet.title),p(3),d("src","images/sprite.svg#icon-star")("width","18px"),p(2),c(L(10,18,t.pet.popularity)),p(2),d("ngClass",z(29,J,t.place==="viewed"||t.place==="favorites")),p(5),c(t.pet.name),p(5),c(j(22,20,t.pet.birthday,"dd.MM.yyyy")),p(6),c(t.pet.sex),p(5),c(t.pet.species),p(5),c(t.pet.category),p(2),c(t.pet.comment),p(2),m(t.pet.price?41:42),p(3),F("viewed",t.place==="viewed"),p(2),m(t.place==="findPage"||t.place==="favorites"?46:-1))},dependencies:[N,B,U,W,D,h],styles:[".card[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]{font-family:manrope,sans-serif;color:#fff;border-radius:30px;border:none;outline:none;background-color:#f6b83d;cursor:pointer;transition:background-color .15s ease}.card[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]:hover{background-color:#f9b020}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;border-radius:16px}@media screen and (max-width: 374px){.card[_ngcontent-%COMP%]{width:100%;padding:24px 12px;height:454px}}@media screen and (min-width: 375px) and (max-width: 768px){.card[_ngcontent-%COMP%]{width:335px;height:454px;padding:24px}}@media screen and (min-width: 768px){.card.findPage[_ngcontent-%COMP%]{width:342px;height:472px;padding:24px}}@media screen and (min-width: 1280px){.card.findPage[_ngcontent-%COMP%]{width:363px}}@media screen and (min-width: 768px){.card.viewed[_ngcontent-%COMP%]{width:342px;height:422px;padding:14px}}@media screen and (min-width: 1280px){.card.viewed[_ngcontent-%COMP%]{width:320px}}.card[_ngcontent-%COMP%]   .titleWrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.card[_ngcontent-%COMP%]   .starWrapper[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:center}.card[_ngcontent-%COMP%]   .starWrapper[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:relative;top:1px;font-size:14px}.card[_ngcontent-%COMP%]   .cardTitle[_ngcontent-%COMP%]{font-weight:700;font-size:16px;line-height:1.25}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .cardTitle[_ngcontent-%COMP%]{font-size:18px;line-height:1.33}}.card[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{width:16px;height:16px;color:#f6b83d}.card[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;object-position:center -50px;border-radius:16px}.card[_ngcontent-%COMP%]   .img.findPage[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .img.viewed[_ngcontent-%COMP%]{height:178px;margin-bottom:24px}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .img.viewed[_ngcontent-%COMP%]{height:162px;margin-bottom:14px}}.card[_ngcontent-%COMP%]   .dataList[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:16px}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .dataList[_ngcontent-%COMP%]{gap:16px}}@media screen and (min-width: 1280px){.card[_ngcontent-%COMP%]   .dataList[_ngcontent-%COMP%]{gap:20px}}@media screen and (min-width: 1280px){.card[_ngcontent-%COMP%]   .dataList.viewed[_ngcontent-%COMP%]{gap:16px}}.card[_ngcontent-%COMP%]   .bioTitle[_ngcontent-%COMP%]{font-size:10px;line-height:1.4;letter-spacing:-.02em;color:#26262680;margin-bottom:2px}.card[_ngcontent-%COMP%]   .bio[_ngcontent-%COMP%]{font-size:12px;line-height:1.16;letter-spacing:-.02em;text-transform:capitalize}.card[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{font-size:14px;line-height:1.28;letter-spacing:-.02em}.card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:12px;font-weight:700;font-size:16px;line-height:1.25}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:18px;line-height:1.33}}.card[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.card[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]{font-size:14px;line-height:1.28;font-weight:500;letter-spacing:-.03em;width:100%;height:46px;outline:none;border:none;cursor:pointer}.card[_ngcontent-%COMP%]   .moreInfo.viewed[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]{font-size:16px;line-height:1.25;height:48px}}.card[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{flex-shrink:0;padding-top:4px;width:46px;height:46px;border-radius:50%;border:none;cursor:pointer;background-color:#fff4df;color:#f6b83d;transition:background-color .15s linear}.card[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]:hover{background-color:#fbe7c1}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{width:48px;height:48px}}"]})};export{f as a,h as b,H as c};
