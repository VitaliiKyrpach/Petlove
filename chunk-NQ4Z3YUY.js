import{o as j,p as D}from"./chunk-7MMK6W5F.js";import{f as U,s as N,v as B}from"./chunk-TODNHXCP.js";import{Ab as s,Eb as i,Fb as o,Gb as m,Gc as k,Kb as y,Mb as C,Mc as z,Nb as g,Nc as L,Wb as a,Xb as c,Yb as E,ab as w,cc as F,da as P,db as d,eb as S,ec as _,hc as T,j as x,ja as v,jc as $,k as u,na as M,sb as l,ub as p,wb as I,xa as b,ya as O}from"./chunk-7JSXSHIC.js";var f=class e{modalOpen$=new u(!1);data$=new x;type$=new x;constructor(){}openModal(n,r){this.modalOpen$.next(!0),r?this.data$.next(r):this.data$.next(null),this.type$.next(n)}closeModal(){this.modalOpen$.next(!1),this.data$.next(null)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})};var V=(e,n)=>({viewed:e,findPage:n});function A(e,n){if(e&1&&a(0),e&2){let r=g();E("$",r.pet.price,"")}}function G(e,n){e&1&&a(0,"FREE")}function H(e,n){e&1&&m(0,"svg-icon-sprite",12),e&2&&p("src","images/sprite.svg#icon-trash")("width","18px")}function J(e,n){e&1&&m(0,"svg-icon-sprite",12),e&2&&p("src","images/sprite.svg#icon-heart")("width","18px")}function K(e,n){if(e&1){let r=y();i(0,"button",11),C("click",function(){b(r);let h=g();return O(h.addToFav(h.pet._id))}),l(1,H,1,2,"svg-icon-sprite",12)(2,J,1,2,"svg-icon-sprite",12),o()}if(e&2){let r=g();d(),s(r.isFavorite?1:2)}}var R=class e{constructor(n){this.store=n}pet;place;favorites$;isLoggedIn=!1;isFavorite=!1;modalService=v(f);ngOnInit(){this.favorites$.subscribe(n=>{this.isFavorite=n.includes(this.pet._id)}),console.log(this.pet.popularity)}openModal(){let n={id:this.pet._id,isFavorite$:this.favorites$};this.isLoggedIn?this.modalService.openModal("petModal",n):this.modalService.openModal("attention")}addToFav(n){this.isLoggedIn?this.isFavorite?this.store.dispatch(B({id:n})):this.store.dispatch(N({id:n})):this.modalService.openModal("attention")}static \u0275fac=function(r){return new(r||e)(S(U))};static \u0275cmp=M({type:e,selectors:[["app-pet-card"]],inputs:{pet:"pet",place:"place",favorites$:"favorites$",isLoggedIn:"isLoggedIn"},standalone:!0,features:[F],decls:41,vars:23,consts:[[1,"card",3,"ngClass"],["alt","pet photo",1,"img",3,"ngClass","src"],[1,"cardTitle"],[1,"dataList"],[1,"bioTitle"],[1,"bio"],[1,"comment"],[1,"price"],[1,"bottom"],["type","button",1,"moreInfo",3,"click"],["type","button",1,"heart"],["type","button",1,"heart",3,"click"],[3,"src","width"]],template:function(r,t){r&1&&(i(0,"li",0),m(1,"img",1),i(2,"div")(3,"h3",2),a(4),o()(),i(5,"ul",3)(6,"li")(7,"p",4),a(8,"Name"),o(),i(9,"p",5),a(10),o()(),i(11,"li")(12,"p",4),a(13,"Birthday"),o(),i(14,"p",5),a(15),T(16,"date"),o()(),i(17,"li")(18,"p",4),a(19,"Sex"),o(),i(20,"p",5),a(21),o()(),i(22,"li")(23,"p",4),a(24,"Species"),o(),i(25,"p",5),a(26),o()(),i(27,"li")(28,"p",4),a(29,"Category"),o(),i(30,"p",5),a(31),o()()(),i(32,"p",6),a(33),o(),i(34,"p",7),l(35,A,1,1)(36,G,1,0),o(),i(37,"div",8)(38,"button",9),C("click",function(){return t.openModal()}),a(39," Learn more "),o(),l(40,K,3,1,"button",10),o()()),r&2&&(p("ngClass",_(17,V,t.place==="viewed"||t.place==="favorites",t.place==="findPage")),d(),p("ngClass",_(20,V,t.place==="viewed"||t.place==="favorites",t.place==="findPage"))("src",t.pet.imgURL,w),d(3),c(t.pet.title),d(6),c(t.pet.name),d(5),c($(16,14,t.pet.birthday,"dd.MM.yyyy")),d(6),c(t.pet.sex),d(5),c(t.pet.species),d(5),c(t.pet.category),d(2),c(t.pet.comment),d(2),s(t.pet.price?35:36),d(3),I("viewed",t.place==="viewed"),d(2),s(t.place==="findPage"||t.place==="favorites"?40:-1))},dependencies:[D,j,z,L,k],styles:[".card[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]{font-family:manrope,sans-serif;color:#fff;border-radius:30px;border:none;outline:none;background-color:#f6b83d;cursor:pointer;transition:background-color .15s ease}.card[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]:hover{background-color:#f9b020}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;border-radius:16px}@media screen and (max-width: 374px){.card[_ngcontent-%COMP%]{width:100%;padding:24px 12px;height:454px}}@media screen and (min-width: 375px) and (max-width: 768px){.card[_ngcontent-%COMP%]{width:335px;height:454px;padding:24px}}@media screen and (min-width: 768px){.card.findPage[_ngcontent-%COMP%]{width:342px;height:472px;padding:24px}}@media screen and (min-width: 1280px){.card.findPage[_ngcontent-%COMP%]{width:363px}}@media screen and (min-width: 768px){.card.viewed[_ngcontent-%COMP%]{width:342px;height:422px;padding:14px}}@media screen and (min-width: 1280px){.card.viewed[_ngcontent-%COMP%]{width:320px}}.card[_ngcontent-%COMP%]   .cardTitle[_ngcontent-%COMP%]{font-weight:700;font-size:16px;line-height:1.25;margin-bottom:8px}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .cardTitle[_ngcontent-%COMP%]{font-size:18px;line-height:1.33}}.card[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;object-position:center -50px;border-radius:16px}.card[_ngcontent-%COMP%]   .img.findPage[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .img.viewed[_ngcontent-%COMP%]{height:178px;margin-bottom:24px}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .img.viewed[_ngcontent-%COMP%]{height:162px;margin-bottom:14px}}.card[_ngcontent-%COMP%]   .dataList[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:16px}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .dataList[_ngcontent-%COMP%]{gap:16px}}@media screen and (min-width: 1280px){.card[_ngcontent-%COMP%]   .dataList[_ngcontent-%COMP%]{gap:20px}}.card[_ngcontent-%COMP%]   .bioTitle[_ngcontent-%COMP%]{font-size:10px;line-height:1.4;letter-spacing:-.02em;color:#26262680;margin-bottom:2px}.card[_ngcontent-%COMP%]   .bio[_ngcontent-%COMP%]{font-size:12px;line-height:1.16;letter-spacing:-.02em;text-transform:capitalize}.card[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{font-size:14px;line-height:1.28;letter-spacing:-.02em}.card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:12px;font-weight:700;font-size:16px;line-height:1.25}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:18px;line-height:1.33}}.card[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.card[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]{font-size:14px;line-height:1.28;font-weight:500;letter-spacing:-.03em;width:100%;height:46px;outline:none;border:none;cursor:pointer}.card[_ngcontent-%COMP%]   .moreInfo.viewed[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]{font-size:16px;line-height:1.25;height:48px}}.card[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{flex-shrink:0;padding-top:4px;width:46px;height:46px;border-radius:50%;border:none;cursor:pointer;background-color:#fff4df;color:#f6b83d;transition:background-color .15s linear}.card[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]:hover{background-color:#fbe7c1}@media screen and (min-width: 768px){.card[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{width:48px;height:48px}}"]})};export{f as a,R as b};
