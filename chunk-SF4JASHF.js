import{o as Ve,p as Je}from"./chunk-4YF7CE2R.js";import{B as be,Bb as Ce,Db as oe,E as ve,Ea as _e,Ga as Ne,Gb as Le,Hc as We,Ib as je,Ja as T,Ka as Ae,Kc as qe,M as ne,U as Te,Ua as X,Wa as j,X as we,Xa as De,Z as w,Zb as Ue,_a as V,a as B,aa as E,ac as Se,b as me,bc as $e,c as Q,ca as P,cb as p,da as y,db as f,eb as J,f as H,fc as ze,ga as Pe,gc as Be,i as ee,ib as Fe,j as ge,jb as ie,jc as Xe,ka as Ee,kb as G,ma as Oe,n as ye,na as Re,o as te,pa as xe,pc as Ge,qa as Me,s as L,tb as m,ub as x,va as re,vb as ke,xa as Ie}from"./chunk-ENPKXEF3.js";var W=class n{modalOpen$=new ge(!1);data$=new ee;type$=new ee;constructor(){}openModal(e,t){this.modalOpen$.next(!0),t?this.data$.next(t):this.data$.next(null),this.type$.next(e)}closeModal(){this.modalOpen$.next(!1),this.data$.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ke=(n,e)=>({viewed:n,findPage:e});function ut(n,e){if(n&1&&m(0),n&2){let t=G();ke("$",t.pet.price,"")}}function pt(n,e){n&1&&m(0,"FREE")}function ft(n,e){n&1&&J(0,"svg-icon-sprite",12),n&2&&j("src","images/sprite.svg#icon-trash")("width","18px")}function mt(n,e){n&1&&J(0,"svg-icon-sprite",12),n&2&&j("src","images/sprite.svg#icon-heart")("width","18px")}function gt(n,e){if(n&1){let t=Fe();p(0,"button",11),ie("click",function(){xe(t);let i=G();return Me(i.addToFav(i.pet._id))}),X(1,ft,1,2,"svg-icon-sprite",12)(2,mt,1,2,"svg-icon-sprite",12),f()}if(n&2){let t=G();T(),V(t.isFavorite?1:2)}}var Ye=class n{constructor(e){this.store=e}pet;place;favorites$;isLoggedIn=!1;isFavorite=!1;modalService=y(W);ngOnInit(){this.favorites$.subscribe(e=>{this.isFavorite=e.includes(this.pet._id)})}openModal(){let e={id:this.pet._id,isFavorite$:this.favorites$};this.isLoggedIn?this.modalService.openModal("petModal",e):this.modalService.openModal("attention")}addToFav(e){this.isLoggedIn?this.isFavorite?this.store.dispatch(qe({id:e})):this.store.dispatch(We({id:e})):this.modalService.openModal("attention")}static \u0275fac=function(t){return new(t||n)(Ae(Ge))};static \u0275cmp=Pe({type:n,selectors:[["app-pet-card"]],inputs:{pet:"pet",place:"place",favorites$:"favorites$",isLoggedIn:"isLoggedIn"},standalone:!0,features:[Ce],decls:41,vars:23,consts:[[1,"card",3,"ngClass"],["alt","pet photo",1,"img",3,"ngClass","src"],[1,"cardTitle"],[1,"dataList"],[1,"bioTitle"],[1,"bio"],[1,"comment"],[1,"price"],[1,"bottom"],["type","button",1,"moreInfo",3,"click"],["type","button",1,"heart"],["type","button",1,"heart",3,"click"],[3,"src","width"]],template:function(t,r){t&1&&(p(0,"li",0),J(1,"img",1),p(2,"div")(3,"h3",2),m(4),f()(),p(5,"ul",3)(6,"li")(7,"p",4),m(8,"Name"),f(),p(9,"p",5),m(10),f()(),p(11,"li")(12,"p",4),m(13,"Birthday"),f(),p(14,"p",5),m(15),Le(16,"date"),f()(),p(17,"li")(18,"p",4),m(19,"Sex"),f(),p(20,"p",5),m(21),f()(),p(22,"li")(23,"p",4),m(24,"Species"),f(),p(25,"p",5),m(26),f()(),p(27,"li")(28,"p",4),m(29,"Category"),f(),p(30,"p",5),m(31),f()()(),p(32,"p",6),m(33),f(),p(34,"p",7),X(35,ut,1,1)(36,pt,1,0),f(),p(37,"div",8)(38,"button",9),ie("click",function(){return r.openModal()}),m(39," Learn more "),f(),X(40,gt,3,1,"button",10),f()()),t&2&&(j("ngClass",oe(17,Ke,r.place==="viewed"||r.place==="favorites",r.place==="findPage")),T(),j("ngClass",oe(20,Ke,r.place==="viewed"||r.place==="favorites",r.place==="findPage"))("src",r.pet.imgURL,Ne),T(3),x(r.pet.title),T(6),x(r.pet.name),T(5),x(je(16,14,r.pet.birthday,"dd.MM.yyyy")),T(6),x(r.pet.sex),T(5),x(r.pet.species),T(5),x(r.pet.category),T(2),x(r.pet.comment),T(2),V(r.pet.price?35:36),T(3),De("viewed",r.place==="viewed"),T(2),V(r.place==="findPage"||r.place==="favorites"?40:-1))},dependencies:[Je,Ve,ze,Be,$e],styles:[".card[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]{font-family:manrope,sans-serif;color:#fff;border-radius:30px;border:none;outline:none;background-color:#f6b83d;cursor:pointer;transition:background-color .15s ease}.card[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]:hover{background-color:#f9b020}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;border-radius:16px}.card.findPage[_ngcontent-%COMP%]{width:363px;height:472px;padding:24px}.card.viewed[_ngcontent-%COMP%]{padding:14px;width:320px;height:422px}.card[_ngcontent-%COMP%]   .cardTitle[_ngcontent-%COMP%]{font-weight:700;font-size:18px;line-height:1.33;margin-bottom:8px}.card[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;object-position:center -50px;border-radius:16px}.card[_ngcontent-%COMP%]   .img.findPage[_ngcontent-%COMP%]{height:178px;margin-bottom:24px}.card[_ngcontent-%COMP%]   .img.viewed[_ngcontent-%COMP%]{height:162px;margin-bottom:14px}.card[_ngcontent-%COMP%]   .dataList[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:16px}.card[_ngcontent-%COMP%]   .bioTitle[_ngcontent-%COMP%]{font-size:10px;line-height:1.4;letter-spacing:-.02em;color:#26262680;margin-bottom:2px}.card[_ngcontent-%COMP%]   .bio[_ngcontent-%COMP%]{font-size:12px;line-height:1.16;letter-spacing:-.02em;text-transform:capitalize}.card[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{font-size:14px;line-height:1.28;letter-spacing:-.02em}.card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:12px;font-weight:700;font-size:18px;line-height:1.33}.card[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.card[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]{width:100%;height:48px;outline:none;border:none;cursor:pointer}.card[_ngcontent-%COMP%]   .moreInfo.viewed[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{flex-shrink:0;padding-top:4px;width:48px;height:48px;border-radius:50%;border:none;cursor:pointer;background-color:#fff4df;color:#f6b83d;transition:background-color .15s linear}.card[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]:hover{background-color:#fbe7c1}"]})};var S=class{},K=class{},O=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(d=>s.indexOf(d)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var ce=class{encodeKey(e){return Ze(e)}encodeValue(e){return Ze(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function yt(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,d]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],a=t.get(o)||[];a.push(d),t.set(o,a)}),t}var bt=/%(\d[a-f0-9])/gi,vt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ze(n){return encodeURIComponent(n).replace(bt,(e,t)=>vt[t]??e)}function q(n){return`${n}`}var I=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ce,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=yt(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(q):[q(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(q(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(q(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var le=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Tt(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Qe(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function He(n){return typeof Blob<"u"&&n instanceof Blob}function et(n){return typeof FormData<"u"&&n instanceof FormData}function wt(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var U=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Tt(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new O,this.context??=new le,!this.params)this.params=new I,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let d=t.indexOf("?"),a=d===-1?"?":d<t.length-1?"&":"";this.urlWithParams=t+a+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Qe(this.body)||He(this.body)||et(this.body)||wt(this.body)?this.body:this.body instanceof I?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||et(this.body)?null:He(this.body)?this.body.type||null:Qe(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof I?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,d=e.withCredentials??this.withCredentials,a=e.reportProgress??this.reportProgress,g=e.headers||this.headers,b=e.params||this.params,v=e.context??this.context;return e.setHeaders!==void 0&&(g=Object.keys(e.setHeaders).reduce((N,h)=>N.set(h,e.setHeaders[h]),g)),e.setParams&&(b=Object.keys(e.setParams).reduce((N,h)=>N.set(h,e.setParams[h]),b)),new n(t,r,o,{params:b,headers:g,context:v,reportProgress:a,responseType:i,withCredentials:d,transferCache:s})}},_=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(_||{}),$=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new O,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Y=class n extends ${constructor(e={}){super(e),this.type=_.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},z=class n extends ${constructor(e={}){super(e),this.type=_.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},M=class extends ${constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ot=200,Pt=204;function ae(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ue=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof U)s=t;else{let a;i.headers instanceof O?a=i.headers:a=new O(i.headers);let g;i.params&&(i.params instanceof I?g=i.params:g=new I({fromObject:i.params})),s=new U(t,r,i.body!==void 0?i.body:null,{headers:a,context:i.context,params:g,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=te(s).pipe(ve(a=>this.handler.handle(a)));if(t instanceof U||i.observe==="events")return o;let d=o.pipe(be(a=>a instanceof z));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe(L(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return d.pipe(L(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return d.pipe(L(a=>{if(a.body!==null&&typeof a.body!="string")throw new Error("Response is not a string.");return a.body}));case"json":default:return d.pipe(L(a=>a.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new I().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ae(i,r))}post(t,r,i={}){return this.request("POST",t,ae(i,r))}put(t,r,i={}){return this.request("PUT",t,ae(i,r))}static{this.\u0275fac=function(r){return new(r||n)(P(S))}}static{this.\u0275prov=w({token:n,factory:n.\u0275fac})}}return n})(),Et=/^\)\]\}',?\n/,Ot="X-Request-URL";function tt(n){if(n.url)return n.url;let e=Ot.toLocaleLowerCase();return n.headers.get(e)}var Rt=(()=>{class n{constructor(){this.fetchImpl=y(de,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=y(Ie)}handle(t){return new H(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(he,s=>r.error(new M({error:s}))),()=>i.abort()})}doRequest(t,r,i){return Q(this,null,function*(){let s=this.createRequestInit(t),o;try{let h=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,B({signal:r},s)));xt(h),i.next({type:_.Sent}),o=yield h}catch(h){i.error(new M({error:h,status:h.status??0,statusText:h.statusText,url:t.urlWithParams,headers:h.headers}));return}let d=new O(o.headers),a=o.statusText,g=tt(o)??t.urlWithParams,b=o.status,v=null;if(t.reportProgress&&i.next(new Y({headers:d,status:b,statusText:a,url:g})),o.body){let h=o.headers.get("content-length"),F=[],c=o.body.getReader(),l=0,R,D,u=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Q(this,null,function*(){for(;;){let{done:A,value:C}=yield c.read();if(A)break;if(F.push(C),l+=C.length,t.reportProgress){D=t.responseType==="text"?(D??"")+(R??=new TextDecoder).decode(C,{stream:!0}):void 0;let fe=()=>i.next({type:_.DownloadProgress,total:h?+h:void 0,loaded:l,partialText:D});u?u.run(fe):fe()}}}));let k=this.concatChunks(F,l);try{let A=o.headers.get("Content-Type")??"";v=this.parseBody(t,k,A)}catch(A){i.error(new M({error:A,headers:new O(o.headers),status:o.status,statusText:o.statusText,url:tt(o)??t.urlWithParams}));return}}b===0&&(b=v?ot:0),b>=200&&b<300?(i.next(new z({body:v,headers:d,status:b,statusText:a,url:g})),i.complete()):i.error(new M({error:v,headers:d,status:b,statusText:a,url:g}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(Et,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>r[s]=o.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let o of t)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=w({token:n,factory:n.\u0275fac})}}return n})(),de=class{};function he(){}function xt(n){n.then(he,he)}function st(n,e){return e(n)}function Mt(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function It(n,e,t){return(r,i)=>Re(t,()=>e(r,s=>n(s,i)))}var _t=new E(""),pe=new E(""),Nt=new E(""),at=new E("",{providedIn:"root",factory:()=>!0});function At(){let n=null;return(e,t)=>{n===null&&(n=(y(_t,{optional:!0})??[]).reduceRight(Mt,st));let r=y(re);if(y(at)){let s=r.add();return n(e,t).pipe(ne(()=>r.remove(s)))}else return n(e,t)}}var nt=(()=>{class n extends S{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=y(re),this.contributeToStability=y(at)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(pe),...this.injector.get(Nt,[])]));this.chain=r.reduceRight((i,s)=>It(i,s,this.injector),st)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ne(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(P(K),P(Oe))}}static{this.\u0275prov=w({token:n,factory:n.\u0275fac})}}return n})();var Dt=/^\)\]\}',?\n/;function Ft(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var rt=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new we(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ye(r.\u0275loadImpl()):te(null)).pipe(Te(()=>new H(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((c,l)=>o.setRequestHeader(c,l.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let c=t.detectContentTypeHeader();c!==null&&o.setRequestHeader("Content-Type",c)}if(t.responseType){let c=t.responseType.toLowerCase();o.responseType=c!=="json"?c:"text"}let d=t.serializeBody(),a=null,g=()=>{if(a!==null)return a;let c=o.statusText||"OK",l=new O(o.getAllResponseHeaders()),R=Ft(o)||t.url;return a=new Y({headers:l,status:o.status,statusText:c,url:R}),a},b=()=>{let{headers:c,status:l,statusText:R,url:D}=g(),u=null;l!==Pt&&(u=typeof o.response>"u"?o.responseText:o.response),l===0&&(l=u?ot:0);let k=l>=200&&l<300;if(t.responseType==="json"&&typeof u=="string"){let A=u;u=u.replace(Dt,"");try{u=u!==""?JSON.parse(u):null}catch(C){u=A,k&&(k=!1,u={error:C,text:u})}}k?(s.next(new z({body:u,headers:c,status:l,statusText:R,url:D||void 0})),s.complete()):s.error(new M({error:u,headers:c,status:l,statusText:R,url:D||void 0}))},v=c=>{let{url:l}=g(),R=new M({error:c,status:o.status||0,statusText:o.statusText||"Unknown Error",url:l||void 0});s.error(R)},N=!1,h=c=>{N||(s.next(g()),N=!0);let l={type:_.DownloadProgress,loaded:c.loaded};c.lengthComputable&&(l.total=c.total),t.responseType==="text"&&o.responseText&&(l.partialText=o.responseText),s.next(l)},F=c=>{let l={type:_.UploadProgress,loaded:c.loaded};c.lengthComputable&&(l.total=c.total),s.next(l)};return o.addEventListener("load",b),o.addEventListener("error",v),o.addEventListener("timeout",v),o.addEventListener("abort",v),t.reportProgress&&(o.addEventListener("progress",h),d!==null&&o.upload&&o.upload.addEventListener("progress",F)),o.send(d),s.next({type:_.Sent}),()=>{o.removeEventListener("error",v),o.removeEventListener("abort",v),o.removeEventListener("load",b),o.removeEventListener("timeout",v),t.reportProgress&&(o.removeEventListener("progress",h),d!==null&&o.upload&&o.upload.removeEventListener("progress",F)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(P(Xe))}}static{this.\u0275prov=w({token:n,factory:n.\u0275fac})}}return n})(),ct=new E(""),kt="XSRF-TOKEN",Ct=new E("",{providedIn:"root",factory:()=>kt}),Lt="X-XSRF-TOKEN",jt=new E("",{providedIn:"root",factory:()=>Lt}),Z=class{},Ut=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Se(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(P(Ue),P(_e),P(Ct))}}static{this.\u0275prov=w({token:n,factory:n.\u0275fac})}}return n})();function St(n,e){let t=n.url.toLowerCase();if(!y(ct)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=y(Z).getToken(),i=y(jt);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var lt=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(lt||{});function $t(n,e){return{\u0275kind:n,\u0275providers:e}}function On(...n){let e=[ue,rt,nt,{provide:S,useExisting:nt},{provide:K,useFactory:()=>y(Rt,{optional:!0})??y(rt)},{provide:pe,useValue:St,multi:!0},{provide:ct,useValue:!0},{provide:Z,useClass:Ut}];for(let t of n)e.push(...t.\u0275providers);return Ee(e)}var it=new E("");function Rn(){return $t(lt.LegacyInterceptors,[{provide:it,useFactory:At},{provide:pe,useExisting:it,multi:!0}])}var dt=class n{constructor(e){this.http=e}api="https://petlove.b.goit.study/api";getFriends(){return console.log("function"),this.http.get(`${this.api}/friends/`)}getNews(e,t){return this.http.get(`${this.api}/news`,{params:{page:e,keyword:t}})}getPets(e,t){let r=me(B({},t),{page:e});return this.http.get(`${this.api}/notices`,{params:r})}getPet(e){return this.http.get(`${this.api}/notices/${e}`)}getCategory(){return this.http.get(`${this.api}/notices/categories`)}getGender(){return this.http.get(`${this.api}/notices/sex`)}getSpecies(){return this.http.get(`${this.api}/notices/species`)}getLocations(){return this.http.get(`${this.api}/cities/locations`)}cloudName="dzs583axq";uploadPreset="image_preset";setAvatar(e){console.log(e);let t=new FormData;t.append("file",e),t.append("upload_preset",this.uploadPreset);let r=`https://api.cloudinary.com/v1_1/${this.cloudName}/image/upload`;return this.http.post(r,t)}addToFav(e){return this.http.post(`${this.api}/notices/favorites/add/${e}`,e)}removeFromFav(e){return this.http.delete(`${this.api}/notices/favorites/remove/${e}`)}static \u0275fac=function(t){return new(t||n)(P(ue))};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})};export{ue as a,_t as b,On as c,Rn as d,W as e,Ye as f,dt as g};
